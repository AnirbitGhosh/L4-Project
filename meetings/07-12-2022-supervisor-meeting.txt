Minutes: (meeting took place over 3 days this week 06-12, 07-12, 08-12)
- On 06-12 transfer full 75 WSI dataset to Linux machine to be tiled and passed through prediction pipeline
- Discuss Macenko normalization, its implementation and show example macenko normalzed tiles. 
Macenko normalization is required as staining is different across different sources of WSI and TCGA is a database with multiple sources
- Discuss downsampling of PCAM data to 10x instead of 40x requiring TCGA tiles to be downsampled to a 10x magnification as well in order for prediction to be 
performed on tiles of similar scale. Using 40x tiles on a 10x tile trained network will not produce results as tiles will look completely differnt 
On 10x downsampling, TCGA tiles look a lot closer to PCAM training data so predictions should me more effective. Use downsampled 10x TCGA tiles as prediction samples
after macenko normalization on Network trained with default PCAM tiles to produce tumour outputs

- On 07-12 go to collect full output and results. Pipeline only succeeded in tiling and failed at prediction due to missing path in generate-predictions.py code 
- Rereun pipeline to generate predictions and prediction visualizations 
- Discuss viability of binary predictions and the survival model generated.
- Binary predictions might overpredict the malignancy score as the model thresholds final output by 0.5, so whatever the prediction was (0 or 1) is the Prediction
which had more than 0.5 probability as the output from the model. So there could be a lot of tiles which have low 50% probability of being malignant (1) but 
gets predicted as fully malignant and overpredict the tumour region. This inflates the malignancy score of +ve tile percentage and might give misleading survival 
covariate relationships in the cox model. 
- Using probability values will give a more definitive tumour region prediciton rather than being 0 or 1. Each output will be the probability value from the model and not the 
max probability index (0 or 1). The new revised pipeline output will be the probability of the tile being positive (value 1) which is beetween 0 and 1.
Then we can use the probability values in our image generation with a continuous color map to produce a heatmap of the tumour regions. 
- Then use a threshold of a higher probability like 0.7 or 0.8 to pick only tiles which have a high confidence of being positive (value 1) as the actual tumour 
regions and use that in the malignancy score to give a more definitive malignancy score representative of the actual tumour region and not overpredicted due to a 0.5 threshold. 
- A more definitive malignancy score is likely to have a stronger correlation with survival model and be a more statistically significant covariate. 
- Aim is to revise the model design to output probability values instead of binary class label and use that for survival modelling
- Since exam on 09-12, this change will be implemented next week, for this week generate the current binary class label prediction to see if the downsampling worked to 
give better results

- On 08-12 go to collect the full result and output dataset generated by the model. The prediction and image generation took a total of 183 mins, 3 hours. 
- Tiling took 4 hours, total 7 hour pipeline.
- Failed to copy all tile data from Linux HDD to my external HDD as the total size is over 1 tb and i dont have space. Won't be able to work on my local machine 
as I cannot store the full dataset anywhere
- Setup SSH account by setting up a new user account on Linux machine. Copy over all files to my user account and set ownership
- Setup new conda environment with all required libraries on my user account on the Linux machine to be able to SSH over the holidays while off-campus 
(using Uni VPN) to be able to run prediction pipeline and output generation using the tiles stored on the Linux machine instead of needing to have it locally.
- Test SSH connection, works using [ssh anirbit@130.209.243.164 and password rik101100$]
- Agree to do meetings over zoom/teams as i am travelling home for christmas from next week